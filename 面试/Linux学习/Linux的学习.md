<<<<<<< HEAD
# Linux的学习

### 1.Linux简介

Linux是一种开源的、免费的操作系统，安装在计算机硬件上、用来管理计算机的硬件和软件资源的系统软件。

Linux注重安全性、稳定性、高并发处理能力，缺点是没有优异的可视化界面

Windows主要用于个人计算机上，Linux主要用于企业服务器上

### 2.Linux的发行版本

Linux在1991年诞生，被称为Linux的内核程序，后来很多软件开发组织以及软件公司在内核程序的基础之上，陆续推出很多不同版本的Linux操作系统

比较出名的有：Ubuntu（乌班图）、RedHat（红帽）、CentOS

> 这里学习使用的是CentOS7，它们互相之间是相通的。

### 3.安装Linux操作系统

**1.虚拟机**：可以用软件模拟出一套具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统。

**2.Linux镜像**：可视化界面功能比较单薄，很少使用，所以多数情况下是基于终端命令使用Linux指令操作计算机。

**安装虚拟机：**

在百度寻找破解版→安装(安装需注意路径不能为中文)→安装成功

配置：2+2核、2G内存、20G存储即可

**安装Linux镜像：**

百度找CentOS7.ISO→下载成功即可

配置：虚拟机新建(典型)→把镜像存放路径放入→配置账户信息→数据存放地址添加→等待安装→安装完成即可

### 4.Linux的目录结构

1.Linux只有一个根目录，结构是树状结构的。

2.层级式的目录结构：

​	bin--->usr/bin：系统的可执行文件，可以在任何目录下执行

​	usr/local/bin：用户自己的可执行文件，可以在任何目录下执行	

​	etc：存放配置文件。配置环境变量(/etc/profile)

​	home：每一个用户的根目录，默认名和自己的用户名相同。

​	opt：存放额外安装的软件。相当于windows系统中的program flies目录

### 5.Linux的远程操作

**1.Xshell：Linux的终端模拟软件**

Xshell的安装：安装并破解(运行两个.bat文件)→启动Xshell

Xshell远程连接：

​	创建会话：在LInux终端命令行输入：ifconfig

点击Xshell-新建→输入IP地址(端口默认22)→创建连接时需输入账户名和密码。

> 这个是局域网内进行连接的。所以用本机地址就可以连接。

**2.Xftp：文件传输软件**

Xftp的安装：安装并破解(运行两个.bat文件)→启动Xftp

​	创建会话：在LInux终端命令行输入：ifconfig

点击Xftp-新建→输入IP地址(端口默认22)→创建连接时需输入账户名和密码。

### 6.VI和VIM编辑器

**用途：**是Linux中的文本编辑器，用来在Linux中查看或者编辑文本文件，就好像是Windows中的记事本。

> VIM是VI的增强版，两个都可以使用。
>
> VI的绝大多数用法在VIM上都使用
>
> 只能用来打开文本，查看字符串

#### 使用方法：

​	vim&vi 创建文件名(创建文件)

​	VI和VIM有**3**种模式：

​	**一般模式**：用VI或者VIM命令打开文件（刚打开文本时默认进入一般模式），仅可以查看文件内容，但不能进行编辑。

> 可以通过上下左右键移动光标来查看文件某一部分，

​	**编辑模式：**在一般模式下，按下（ i、a、I、A ）这几个键都能进入到编辑模式，编辑模式下可以编辑文件内容，但不能保存编辑的内容。不会自动保存。

> 命令：i ---插入文本				a ---追加文本

> 回车换行。
>
> 按下ESC可以回到一般模式

​	**命令行模式：**在一般模式下，按下shift+:  进入命令行模式。

>  命令：q！ --------表示不保存，强制退出编辑器。			    
>
>  ​			 wq --------表示保存，并且退出编辑器。
>
>  ​			 q --------只是退出编辑器，没有任何操作。
>
>  ​			w -------- 保存文件
>
>  ​			wq！ --------保存并强制退出
>
>  ​			dd --------删除一行文件
>
>  ​			x --------删除一个字符
>
>  ​			:n --------光标移至文本第N行
>
>  ​			$ --------光标移至文本的行尾
>
>  ​			G --------光标移至文本的末尾
>
>  ​			/ --------查找某个字符串。	/sdb

> 按下ESC可以回到一般模式
>
> 编辑模式不能直接进入到命令模式。
>
> 只能从编辑模式回到一般模式再进入命令模式。

#### 常用的VI和VIM的快捷键：

​	1.复制当前行：在**一般模式**下，按yy，把光标所在行复制到剪切板。

​	2.复制多行(光标往下)：在**一般模式**下，按(需复制的行数)+yy，就能把光标往下数N行复制到剪切板。

​	3.粘贴已复制的内容：在**一般模式**下，按p，把剪切板中的内容粘贴到光标所在的下一行。

​	4.查找关键字：在**命令行模式**下，输入/+关键字，回车即可。找到后按n表示查找光标查找下一个关键字。

​	5.删除光标所在当前行：在**一般模式**下，按dd即可删除。

​	6.删除多行(光标往下)：在**一般模式**下，按(需删除的行数)+dd。

​	7.撤销上次编辑的内容：在**一般模式**下，按u即可撤销。

​	8.显示行号：在命令行模式下，按set nu即可，不显示按set nonu即可。

### 7.Linux中的用户管理

> 任何使用Linux的系统资源的用户，必须使用一个合法的账号和密码；
>
> 账号和密码都是向系统管理员进行申请。
>
> root账号是Linux系统安装时默认创建的系统管理员账号。由root来创建普通的账号。

如何创建账号

​	添加用户：useradd 新用户名

> Linux底层：创建一个

### Linux的常用命令

> ​	mkdir(创建文件夹)	su 用户名（切换用户）

##### 1.cd命令

​	语法：	cd <目录名>

​	选项：	cd ..	返回到当前目录的上一级目录

​			cd		返回当前用户的主目录

​			cd /home	用路径切换到home目录

##### 2.pwd命令

​	语法：	直接使用 pwd

​	功能描述：打印用户当前所处的路径

##### **3.ls命令**

​	语法：	ls[参数] [目录或文件]

​	选项：	 -a	列举目录中的全部文件，包括隐藏文件

​			 -l	列举目录中的细节，包括权限、所有者、组群、大小、创建日期、文件是否是链接等

​			 -l 可以和 -a 一起使用------ ls -la

​			 -r	逆向，从后往前的列举目录中内容

​			 -R	递归，该选项递归的列举当前目录下所有子目录内的内容

​			 -s	大小SIZE：数据块

​			 ls -l 1.txt	列举文件1.txt的所有信息	等同于[ ll ]

##### **4.cat命令**

​	功能描述：在屏幕上显示整个文本内容，无需进入vi或vim编辑器

​	**语法：cat [文本名字]**

​	例如：cat  1.txt

##### **5.touch命令**

​	功能描述：创建文本（不能插入内容）

​	**语法：touch [文本文件名字]**

​	例如：touch 12.txt					

​		    创建多个：	touch 1.txt 2.txt 3.txt------空格隔开

##### **6.grep命令**

​	功能描述：是在一堆文件中查找一个特定的字符串，在屏幕上展示，无需进入vi或vim编辑器

​	**语法：grep [查找的字符串] [查找文件名]**

​	例如：grep money test.txt-----这个命令是在test.txt中查找money这个字符串，grep查找是区分大小写的。

##### **7.cp命令**

​	功能描述：拷贝文件或复制文件(copy)

​	语法：cp [源文件] [目标文件]

​	例如：cp hello.txt test.txt---空格隔开

​	选项：

​			-i	互动：如果文件将覆盖目标中的文件，他会确认提示

​			-r	递归：这个选项会复制整个目录、子目录以及其他

​			-v	详细：显示文件的复制进度

##### **8.mv命令**

​	功能描述：可以对文件或者目录进行移动----剪切

​	语法：mv [源对象] [目的对象]

​	选项：

​			-i	互动：如果选择的文件会覆盖目标中的文件，他会提示确认

​			-f	强制：不提示的移动文件

​			-v	详细：显示文件的移动进度

##### **9.mkdir命令**

​	功能描述：创建目录

​	格式：mkdir [目录名1] [目录名2] .....

​	选项：

​			-p	嵌套：目录里面只能嵌套一个目录	mkdir -p aa/bb/cc/dd

##### **10.rmdir命令**

​	功能描述：删除空目录

​	格式：rmdir [参数] [目录名1] [目录名2]

​	选项：

​			-p	嵌套：删除空目录里面的空目录		rmdir -p aa/bb/cc/dd

##### **11.rm命令**

​	功能描述：算出文件

​	格式：rm [参数] [文件]

​	选项：

​			-i	互动：提示确认删除

​			-f	强制：代替互动模式，不提示确认删除

​			-v	详细：显示文件的删除进度

​		**常用 -r**	递归：将删除某个目录以及其中所有的文件和子目录

##### **12.man命令**

​	功能描述：用来查询和解释一个命令的使用方法和这个命令的注意事项

​	格式：man [命令的名称]

> 退出按q

##### **13.locate命令**

​	功能描述：定位文件和目录

​	格式：locate [文件或者目录名字]

​	例子：搜索test这个词的文件：输入locate test

​			locate命令使用系统来定位带有test这个词的文件或目录

##### **14.whatis命令**

​	功能描述：用来查询某个命令的含义

​	格式：whatis [命令名]

##### **15.bzip2命令**

​	功能描述：bzip2来压缩文件

​	格式：bzip2 [文件名]

​		文件即会被压缩且原文件会被删除，并被保存为文件名.bz2后缀

##### **16.bunzip2命令**

​	功能描述：解压bzip2后缀的压缩文件

​	格式：bunzip2 [XX.bz2压缩文件]

​		文件即会被解压缩且原压缩文件会被删除，并被保存为文件名

##### **17.gzip命令**

​	功能描述：压缩文件

​	格式：gzip [文件名]

​		文件即会被压缩且源文件会被删除，并被保存为文件名.gz后缀

​	参数：

​			-r	递归：将制定目录下的所有文件及子目录一并压缩

​				**注：压缩的只有文件，不包含目录。**

##### **18.gunzip命令**

​	功能描述：解压bz后缀的压缩文件

​	格式：gunzip [文件名]

​		文件即会被解压缩且原压缩文件会被删除，并被保存为文件名

​	参数：

​			-r	递归：将制定目录下的所有文件及子目录一并解压

​				**注：解压的只有文件，不包含目录。**

##### **19.tar命令**

​	功能描述：将文件或者目录进行打包、或者解压缩

​	格式：tar [参数] [打包后的文件名] [需要打包的文件或目录]

​	参数：

​			-c	创建压缩文件

​			-x	展开归档文件

​			-t	显示包括在tar文件中的文件列表

​			-z	压缩/解压缩文件（gz后缀）

​			-v	写入或读取时，显示所有的文件名

​			-f	指明要展开的归档文件名

​			-j	压缩或解压缩文件（bz2后缀）

​	例子：

​	tar -cvf test.tar /home/test	

> 将home下目录test打包成tar包并起名为test.tar

​	tar -xvf test.tar

>将test.tar解压缩

​	tar -tvf a.tar

> 把a.tar压缩包里面的文件的详细信息展示出来

​	tar -cjvf filename.tbz file

> 创建一个使用tar和bzip2来归档压缩的文件，使用-j选项，后缀名是tbz

​	tar -xjvf filename.tbz

> 拓展并解除归档bzip tar文件

​	tar -czvf filename.tgz file

> 创建一个用tar和gzip归档并压缩的文件，使用-z选项，后缀名是tgz

​	tar -xzvf filename.taz

> 拓展并解除归档gzip tar文件



##### **20.head命令**

​	功能描述：用来查看文件的开头部分

​	格式：head [行数] [要查看的文件名]

##### **21.tail命令**

​	功能描述：用来查看文件的结尾部分

​	格式：tail [行数] [要查看的文件名]

##### **22.more命令**

​	功能描述：分页查看文件的内容

​	格式：more [选项] [要查看文件名]

​	选项：

​			-{{num}}	一次显示的行数

​			-f		计算行数时，已实际上的行数，而非自动换行过后的行数

> ​						这里的自动换行代表的是字数超过一行的

​			+{{num}}	从第num行开始显示

​	例子：

​		more + /ab 1.txt

> 要使用more在文本文件中搜索关键字，按/键并输入命令搜索条目
>
> 从文件中查找第一个出现“ab”字符串的行，并从该处前两行开始显示输出
>
> 注：使用空格键来前后翻页，按q键退出

​		ls -al /etc | more -5

> 当一个目录下的文件内容太多，可以使用more来分页显示，和|结合起来
>
> “|”表示管道，作用是可以将前面命令的输出当做后面命令的输入

##### **23.which命令**

​	功能描述：依序从path环境变量所列的目录中找出命令的位置，并显示完整路径的名称。在找到第一个符合条件的程序文件时，就立刻停止搜索，省略其余未搜索目录。

​	格式：which [文件名]

##### **24.whereis命令**

​	功能描述：查找符合条件的文件，whereis命令只能定位一些文件在文件系统中的位置。一般用于程序名的搜索。

​	格式：whereis [选项] [程序名]

​	选项：

​			-b	只查找二进制文件

​			-m	man说明文件，查出说明文档路径

##### **25.chmod命令**

​	功能描述：用来设定文件的权限

​	格式：chmod [用户类型(+/-)权限] [文件名/目录]

> u代表该文件的创建人,g代表跟创建人同组的人,o代表其他人,a代表所有人

​	例子：

​			chmod a-rwx test.txt	

> ​	给test.txt文件内所有身份都删除读、写、执行的权限

​			chmod u+rwx test.txt

> ​	给test.txt文件内u用户身份添加读、写、执行的权限

​			chmod u-rwx,o-rwx,g-rwx test.txt

> ​	给test.txt文件内u、o、g三个用户都删除读、写、执行的权限，逗号隔开

​			chmod 751 test.txt & chmod u=rwx,g=rx,o=x test.txt

> ​	上面的两个chmod命令意思是一样的。
>
> ​	可以用数字表示权限：4——读取、2——写入、1——执行

> d rwx rwx rwx & - rwx rwx rwx
>
> d 代表文件类型属于目录，- 代表文件类型属于文件
>
> 第一个rwx是属于创建人u的文件权限，r是读，w是写，x是执行
>
> 第二个rwx是属于跟创建人同组g的文件权限，r是读，w是写，x是执行
>
> 第三个rwx是属于其他人o的文件权限，r是读，w是写，x是执行

##### **26.useradd&userdel命令**

​	功能描述：添加用户&删除用户

​	格式：useradd [用户名] & userdel [参数] [用户名]

​	选项：

​			userdel -r ma	彻底删除ma用户的所有文件和目录

> 但如果已删除ma用户，但未删除文件&目录的话，需要用rm -rf

##### **27.chgrp命令&chown命令**

​	功能描述：chgrp	更改文件/目录的用户组、chown 更改文件/目录拥有者

> ​	注：使用该命令只能有root系统管理员所使用。

​	格式：chgrp [更改的用户组] [文件/目录]

​		    chown [更改的拥有者] [文件/目录]

##### **28.su命令**

​	功能描述：用来切换用户

​	格式：su [用户名]

​	选项：

​			sl -l [用户名]	表示切换用户并载入那个用户的环境变量

##### **29.passwd命令**

​	功能描述：修改用户密码

​	格式：passwd [用户名]

##### **30.exit命令**

​	功能描述：退出终端

##### **31.reboot命令**

​	功能描述：重启终端

##### **32.halt命令**

​	功能描述：关闭终端

##### **33.shwtdown命令**

​	功能描述：重启终端

​	格式：shutdown [选项] [时间]

​	选项：

​			shutdown -h now		立刻关闭系统

​			shutdown -h	11:30	11:30分关闭系统

​			shutdown -t 2		在2分钟内关闭系统

##### **34.ps命令**

​	功能描述：查看程序的进程，可以找出所有process id和名称	

​	格式：ps&ps [选项]

​	选项：

​			ps -u	列出使用者的名称和使用时间

​			ps -x	列出所有程序

##### **35.top命令**

​	功能描述：动态查看进程的执行情景和内存使用

> ​	ctrl+c退出

##### **36.kill命令**

​	功能描述：用来终止一个正在执行中的进程

​	格式：kill [进程号]

##### **37.date命令**

​	功能描述：用来设定和修改现在的时间和日期

​	格式：date [选项] [文件名]

​	选项：

​			date -r 1.txt	查看1.txt这个文件的最后一次修改时间节点

​			date -s	设置系统时间

​			date -u	查看格林尼治时间

##### **38.cal命令**

​	功能描述：查看日历

##### **39.df命令**

​	功能描述：查看硬盘的使用量

​	格式：df [选项] 	列出全部文件系统和各分区的磁盘使用情况

##### **40.du命令**

​	功能描述：显示文件目录的大小

​	格式：du [参数] [文件名字]

​	选项：du -ab	列出所有文件和目录所占的空间

##### **41.ifconfig命令**

​	功能描述：显示网络设备的状态

##### **42.ping命令**

​	功能描述：检测主机

##### **43.netstat命令**

​	功能描述：知道整个linux系统的网络情况或显示网络状态

​	格式：netstat -a	显示详细的网络状况	

​		    netstat -apu	显示UDP端口号的使用情况

##### **44.clear命令**

​	功能描述：清楚当前命令窗口内容

##### **45.echo命令**

​	功能描述：回显文字或者用来查看环境变量的值

​	格式：echo “hello world”	显示hello world

​		    echo $PATH	查看PATH的取值，是否有/sbin目录

##### **46.uptime命令**

​	功能描述：系统运行时间

##### **47.wc命令**

​	功能描述：统计字数，默认情况下把指定文件的行数、字数、字节数展示

​	格式：wc [选项] [文件名]

​	选项：

​			wc -c	只显示字节数

​			wc -l	只显示行数

​			wc -w	只显示字数



### 8.shell脚本

#### 1.概述

1.Shell是一个用C语言编写的程序，它是用户使用Linux的桥梁

2.Shell既是一种命令语言，又是一种程序设计语言

3.Shell是指一种应用程序，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务。

> ​	Ken Thompson的 sh 是第一种Unix Shell

#### 2.脚本和环境

##### 2.1shell脚本

***shell脚本（shell script），是一种为shell编写的脚本程序***

##### 2.2shell环境

***shell变成只要有一个能编写代码的文编编辑器vi和一个能够解释执行的脚本解释器就可以了，/bin/bash***

**Linux的shell种类众多，常见的有：**

**1.Bourne Again Shell（/bin/sh）**

1.由于易用和免费，Bash在日常工作中被广泛使用

2.Bash也是大多数Linux系统默认的Shell

> shell是干嘛的？
>
> ​	将许多命令写一起，让用户很轻松的就能执行一个文件的Shell脚本，能够一次执行多个命令。

**2.Bourne shell（/usr/bin/sh或/bin/sh）**

**3.C shell（/usr/bin/csh）**

**4.K shell（/usr/bin/ksh）**

**5.shell for Root（/sbin/sh）**

##### 2.3shell构成

**bash环境文件：**

> .bash_profile
>
> ​	设置环境变量：账户-建立，该文件就存在（用户生成即会跟着生成）
>
> .bashrc
>
> ​	存放针对bash的命令，每次启动就执行它，在.bash_profile之后执行
>
> ​		启动bash命令后自动执行
>
> .bash_logout
>
> ​	仅在退出注册时运行
>
> .bash_history
>
> ​	历史记录

##### 2.4shell脚本格式

格式：vi filename.sh（可以理解为文本文件，但它是可执行的）

使用vi来编写shell脚本：

> 脚本第一行格式：

>   	#!/bin/bash

> 符号#!用来指定该脚本文件的解析程序，这里使用的是bin目录下的bash解析器，当编辑好脚本后，如果要执行该脚本，还必须使其具有可执行属性
>
> 即：
>
> ​	chmod + x filename.sh	(这里的x代表是给予 可执行 的权限)
>
> 然后执行
>
> ​	./filename.sh
>
> 第二种方式：		/bin/bash filename.sh
>
> **注：.sh后缀可带可不带，主要用来分辨是否为脚本文件**

##### 2.5shell中的变量

在shell脚本中，变量有两种，一种是用户自定义变量，另一种是系统默认变量

​	用户自定义变量：your_name="qianfengjioayu" (变量名=变量值)

> ​	注意：变量名和等号之间不能有空格

> 变量名有如下规则：
>
> ​	首个字符必须为字母(a-z&A-Z)
>
> ​	中间不能有空格，可以用下划线( _ )
>
> ​	不能使用标点符号
>
> ​	不能使用bash里的关键字(命令名等)

2.5.1**用户自定义变量**

​	在shell编程中，所有的变量都有字符串组成，并且不需要事先声明变量的类型，它支持的唯一类型的变量就是字符串。

> 使用一个定义过的变量时，只要在变量名前面加美元符号$即可
>
> 例子1：
>
> ​	shell脚本：test02.sh
>
> ​		#!/bin/bash

> ​		your_name="qf"
>
> ​			echo $your_name
>
> ​		echo ${your_name}
>
> 其中，变量名外边的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界
>
> 例如：a=aaa，echo “this is $a123”
>
> ​	输出内容则为：this is
>
> 如：a=aaa，echo "this is ${a}123"
>
> ​	输出内容则为：this is aaa123
>
> 使用花括号来划分边界。

**2.5.2只读变量**

​	使用readonly命令可以将变量定义为只读变量，只读变量的值不能被更改

> 例子：
>
> ​	#!/bin/bash

> ​	a="aaaa"
>
> ​	readonly a
>
> ​	a="bbbb"
>
> ​	echo = $a
>
> 此时输出会报错，且会把readonly定义前的变量输出出来

**2.5.3 删除变量**

​	使用unset命令可以删除变量

​	语法：unset variable_name（变量名）

> **变量被删除后不能再次使用。unset命令不能删除只读变量**

> 例子1：
>
> ​	#!/bin/bash
>
> ​	a="mylove"
>
> ​	unset a
>
> ​	echo $a
>
> 此时输出为空。因为变量a已经被unset命令删除掉了
>
> 例子2：
>
> ​	#!/bin/bash
>
> ​	a="mylove"
>
> ​	readonly a
>
> ​	unset a
>
> ​	echo $a
>
> 此时输出会报错，且会把readonly定义前的变量输出出来

##### **2.6字符串操作**

​	**1.拼接字符串**

> 例子1：
>
> ​		name="aaaaa"
>
> ​		echo "$name,aaaa"
>
> ​		输出结果：aaaaa,aaaa

> 例子2：
>
> ​		str01="hello"
>
> ​		pj01="111,$str01"
>
> ​		echo pj01
>
> ​		输出结果：111，hello

> 例子3：
>
> ​		str01="111"
>
> ​		str02="222"
>
> ​		pj01="\$str01,$str02"
>
> ​		echo pj01
>
> ​		输出结果：111,222

​	**2.获取字符串长度**

> 例子1：
>
> ​		string="abcd"
>
> ​		echo ${#string}

​	**3.提取子字符串**

> 例子1：从第二个字符串开始截取，截取长度为4
>
> ​		string="abcde"
>
> ​		echo ${string:1:4}



##### 2.7shell数组

**数组：相当于多个相同类型的变量组成的集合，shell中没有限定数组的大小**

**定义数组：**

​	在shell中，用括号来表示数组，数组元素用“空格”符号分隔开

​	一般形式为：数组名=(值1 值2 .....)

> ​	例子1：a=(1 2 3 4) ------ 一般形式
>
> ​	例子2：a[0]=(0)、a[1]=(1) ------ 单独定义数组的各个分量

**读取数组：**

​	格式：	${数组名[下标]}

> 例子1：	value=${array_name[n]}

​	使用@符号可以获取数组中的所有元素

> 例子2：echo ${array_name[@]}

​	获取数组的长度

> 1.获取数组的个数：	echo ${#array_name[@]}
>
> 2.获取单个数组的长度：	echo ${#array_name[下标元素]}

##### 2.8shell注释

“#”开头的行就是注释行，会被解释器忽略，sh里没有多行注释，只能每行都加“#”

##### 2.9shell运算符

分为：算数运算符、关系运算符、布尔运算符、字符串运算符、文件测试运算符

expr是一款表达式计算工具，使用它能完成表达式的求值操作

> 例子1：
>
> ​	两个数相加(注意使用的是反引号 ` 而不是单引号 ’ )
>
> ​		#!/bin/bash
>
> ​		var=\`expr 2 + 2`
>
> ​		echo "sum: $var"

​	**1.算数运算符**

> ​	加定变量a=10，变量b=20

> ​	运算符	说明	举例
>
> ​	**+**		加法	\`expr \$a + $b` 结果为30
>
> ​	**-**		减法	\`expr \$a - $b` 结果为-10
>
> ​	*****		乘法	\`expr \$a (反斜杠转义)* $b`结果为200 
>
> ​	**/**		除法	\`expr \$b / $a 结果为2
>
> ​	**%**		取余	\`expr \$b % $a 结果为0
>
> ​	**=**		赋值	\`expr a=$b 将变量b的值赋给a
>
> ​	**==**		相等	用于比较两个数字,相等则返回Ture,不相等返回False
>
> ​	**！=**		不相等	用于比较两个数字，不相等返回Ture,相等返回Ture

​	**2.if语句**

> 格式一：
>
> if [ 判定条件 ]	  # 中括号两边需要带空格
>
> then
>
> ​	语句块
>
> else
>
> ​	语句块
>
> fi	# 结尾	

​	**3.关系运算符**

> 关系运算符只支持数字，不支持字符串，除非字符串的值是数字

> 假定变量a为10，变量b为20

> ​	**-eq**	检测两个数是否相等，相等返回Ture，不相等返回False。
>
> ​	举例：[ $a -eq \$b]返回False
>
> ​	**-ne**	检测两个数是否相等，不相等返回Ture，相等返回False
>
> ​	举例：[ $a -ne \$b ]返回True
>
> ​	**-gt**	检测左边的数是否大于右边的，是则返回True，不是则返回False
>
> ​	举例：[ $a -gt \$b ]返回False
>
> ​	**-lt**	检测左边的数是否小于右边的，是则返回True，不是则返回False
>
> ​	举例：[ $a -lt \$b ]返回True
>
> ​	**-ge**	检测左边的数是否大于等于右边的，是则返回True，不是则返回False
>
> ​	举例：[ $a -ge \$b ]返回False
>
> ​	**-le**	检测左边的数是否小于等于右边的，是则返回True，不是则返回False
>
> ​	举例：[ $a -le \$b ]返回False

​	**4.布尔运算符**

> 假定变量a为10，变量b为20：

> ​	**！**	非运算，表达式为True则返回False，否则返回True
>
> ​	举例：[ ! false ]返回True
>
> ​	**-o**	或运算，有一个表达式为true则返回true，否则返回false
>
> 举例：[ $a -lt 20 -o \$b -gt 100 ]返回True
>
> ​	**-a**	与运算，两个表达式都为true才返回true，否则返回false
>
> 举例：[ $a -lt 20 -a \$b  -gt 100]返回false

​	**5.逻辑预算符**

> 假定变量a为10，变量b为20：

> ​	**&&**	逻辑的AND	
>
> 举例：[[ $a -lt 100 && \$b -gt 100 ]]	返回False 
>
> ​	**||**	逻辑的OR
>
> 举例：[[ $a -lt 100 || \$b -gt 100 ]]	返回True

​	**6.字符串运算符**

> 假定变量a为“abc”，变量b为“efg”

> ​	**=**	检测两个字符串是否相等，相等返回True，否则返回False
>
> ​	举例：[ $a = \$b ]返回False
>
> ​	**!=**	检测两个字符串是否相等，不想等返回True，相等返回False
>
> ​	举例：[ $a != \$b ]返回True
>
> ​	**-z**	检测字符串长度是否为0，为0返回True，否则返回False
>
> ​	举例：[ -z $a ]返回False
>
> ​	**-n**	检测字符串长度是否为0，为0返回False，否则返回True
>
> ​	举例：[ -n $a ]返回True
>
> ​	**str**	检测字符串是否为空(null)，不为空返回True，否则返回False
>
> ​	举例：[ $a ]返回True

​	**7.文件测试运算符**

> 文件测试运算符用于检测文件的各种属性

> ​	**-d file**	检测文件是否是目录，是则返回True，否则返回False
>
> ​	举例：[ -d $file ]返回False
>
> ​	**-f file**	检测文件是否是普通文件，是则返回True，否则返回False
>
> ​	举例：[ -f $file ]返回Ture
>
> ​	**-r file**	检测文件是否可读，是则返回True，否则返回False
>
> ​	举例：[-r $file]返回True
>
> ​	**-w file**	检测文件是否可写，是则返回True，否则返回False
>
> ​	举例：[ -w $file ]返回True
>
> ​	**-x file**	检测文件是否可执行，是则返回True，否则返回False
>
> ​	举例：[ -x ￥file ]返回True
>
> ​	**-s file**	检测文件是否为空(文件大小是否大于0)，是则返回True，否则返回False
>
> ​	举例：[ -s $file ]返回True
>
> ​	**-e file**	检测文件(包括目录)是否存在，是则返回True，否则返回False
>
> ​	举例：[ -e $file ]返回True

##### 3.0shell echo命令

作用：用于字符串的输出	格式：echo “字符串内容”

**1.显示转义字符：**

> ​	echo “\“It is a test\””
>
> 输出为："It is a test" 

**2.显示变量：**

​	read 命令 从表中输入中读取一行，并把输入行的每个字段的值指定给shell变量

> ​	\#!/bin/bash

> ​	read name

> ​	echo "$name It is a test"

**3.显示换行：**

> ​	echo -e "OK! \n yes!" 	# -e	\n 换行
>
> 输出为：OK！换行 yes!

> ​	echo -e "It is a\b test"	# -e \b 后退一步(删除)
>
> 输出为：it is test	# a被删除
>
> ​	echo -e “hello，\tworld” # -e \t tab前进
>
> 输出为：hello,	world
>
> ​	

=======
# Linux的学习

### 1.Linux简介

Linux是一种开源的、免费的操作系统，安装在计算机硬件上、用来管理计算机的硬件和软件资源的系统软件。

Linux注重安全性、稳定性、高并发处理能力，缺点是没有优异的可视化界面

Windows主要用于个人计算机上，Linux主要用于企业服务器上

### 2.Linux的发行版本

Linux在1991年诞生，被称为Linux的内核程序，后来很多软件开发组织以及软件公司在内核程序的基础之上，陆续推出很多不同版本的Linux操作系统

比较出名的有：Ubuntu（乌班图）、RedHat（红帽）、CentOS

> 这里学习使用的是CentOS7，它们互相之间是相通的。

### 3.安装Linux操作系统

**1.虚拟机**：可以用软件模拟出一套具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统。

**2.Linux镜像**：可视化界面功能比较单薄，很少使用，所以多数情况下是基于终端命令使用Linux指令操作计算机。

**安装虚拟机：**

在百度寻找破解版→安装(安装需注意路径不能为中文)→安装成功

配置：2+2核、2G内存、20G存储即可

**安装Linux镜像：**

百度找CentOS7.ISO→下载成功即可

配置：虚拟机新建(典型)→把镜像存放路径放入→配置账户信息→数据存放地址添加→等待安装→安装完成即可

### 4.Linux的目录结构

1.Linux只有一个根目录，结构是树状结构的。

2.层级式的目录结构：

​	bin--->usr/bin：系统的可执行文件，可以在任何目录下执行

​	usr/local/bin：用户自己的可执行文件，可以在任何目录下执行	

​	etc：存放配置文件。配置环境变量(/etc/profile)

​	home：每一个用户的根目录，默认名和自己的用户名相同。

​	opt：存放额外安装的软件。相当于windows系统中的program flies目录

### 5.Linux的远程操作

**1.Xshell：Linux的终端模拟软件**

Xshell的安装：安装并破解(运行两个.bat文件)→启动Xshell

Xshell远程连接：

​	创建会话：在LInux终端命令行输入：ifconfig

点击Xshell-新建→输入IP地址(端口默认22)→创建连接时需输入账户名和密码。

> 这个是局域网内进行连接的。所以用本机地址就可以连接。

**2.Xftp：文件传输软件**

Xftp的安装：安装并破解(运行两个.bat文件)→启动Xftp

​	创建会话：在LInux终端命令行输入：ifconfig

点击Xftp-新建→输入IP地址(端口默认22)→创建连接时需输入账户名和密码。

### 6.VI和VIM编辑器

**用途：**是Linux中的文本编辑器，用来在Linux中查看或者编辑文本文件，就好像是Windows中的记事本。

> VIM是VI的增强版，两个都可以使用。
>
> VI的绝大多数用法在VIM上都使用
>
> 只能用来打开文本，查看字符串

#### 使用方法：

​	vim&vi 创建文件名(创建文件)

​	VI和VIM有**3**种模式：

​	**一般模式**：用VI或者VIM命令打开文件（刚打开文本时默认进入一般模式），仅可以查看文件内容，但不能进行编辑。

> 可以通过上下左右键移动光标来查看文件某一部分，

​	**编辑模式：**在一般模式下，按下（ i、a、I、A ）这几个键都能进入到编辑模式，编辑模式下可以编辑文件内容，但不能保存编辑的内容。不会自动保存。

> 命令：i ---插入文本				a ---追加文本

> 回车换行。
>
> 按下ESC可以回到一般模式

​	**命令行模式：**在一般模式下，按下shift+:  进入命令行模式。

>  命令：q！ --------表示不保存，强制退出编辑器。			    
>
>  ​			 wq --------表示保存，并且退出编辑器。
>
>  ​			 q --------只是退出编辑器，没有任何操作。
>
>  ​			w -------- 保存文件
>
>  ​			wq！ --------保存并强制退出
>
>  ​			dd --------删除一行文件
>
>  ​			x --------删除一个字符
>
>  ​			:n --------光标移至文本第N行
>
>  ​			$ --------光标移至文本的行尾
>
>  ​			G --------光标移至文本的末尾
>
>  ​			/ --------查找某个字符串。	/sdb

> 按下ESC可以回到一般模式
>
> 编辑模式不能直接进入到命令模式。
>
> 只能从编辑模式回到一般模式再进入命令模式。

#### 常用的VI和VIM的快捷键：

​	1.复制当前行：在**一般模式**下，按yy，把光标所在行复制到剪切板。

​	2.复制多行(光标往下)：在**一般模式**下，按(需复制的行数)+yy，就能把光标往下数N行复制到剪切板。

​	3.粘贴已复制的内容：在**一般模式**下，按p，把剪切板中的内容粘贴到光标所在的下一行。

​	4.查找关键字：在**命令行模式**下，输入/+关键字，回车即可。找到后按n表示查找光标查找下一个关键字。

​	5.删除光标所在当前行：在**一般模式**下，按dd即可删除。

​	6.删除多行(光标往下)：在**一般模式**下，按(需删除的行数)+dd。

​	7.撤销上次编辑的内容：在**一般模式**下，按u即可撤销。

​	8.显示行号：在命令行模式下，按set nu即可，不显示按set nonu即可。

### 7.Linux中的用户管理

> 任何使用Linux的系统资源的用户，必须使用一个合法的账号和密码；
>
> 账号和密码都是向系统管理员进行申请。
>
> root账号是Linux系统安装时默认创建的系统管理员账号。由root来创建普通的账号。

如何创建账号

​	添加用户：useradd 新用户名

> Linux底层：创建一个

### Linux的常用命令

> ​	mkdir(创建文件夹)	su 用户名（切换用户）

##### 1.cd命令

​	语法：	cd <目录名>

​	选项：	cd ..	返回到当前目录的上一级目录

​			cd		返回当前用户的主目录

​			cd /home	用路径切换到home目录

##### 2.pwd命令

​	语法：	直接使用 pwd

​	功能描述：打印用户当前所处的路径

##### **3.ls命令**

​	语法：	ls[参数] [目录或文件]

​	选项：	 -a	列举目录中的全部文件，包括隐藏文件

​			 -l	列举目录中的细节，包括权限、所有者、组群、大小、创建日期、文件是否是链接等

​			 -l 可以和 -a 一起使用------ ls -la

​			 -r	逆向，从后往前的列举目录中内容

​			 -R	递归，该选项递归的列举当前目录下所有子目录内的内容

​			 -s	大小SIZE：数据块

​			 ls -l 1.txt	列举文件1.txt的所有信息	等同于[ ll ]

##### **4.cat命令**

​	功能描述：在屏幕上显示整个文本内容，无需进入vi或vim编辑器

​	**语法：cat [文本名字]**

​	例如：cat  1.txt

##### **5.touch命令**

​	功能描述：创建文本（不能插入内容）

​	**语法：touch [文本文件名字]**

​	例如：touch 12.txt					

​		    创建多个：	touch 1.txt 2.txt 3.txt------空格隔开

##### **6.grep命令**

​	功能描述：是在一堆文件中查找一个特定的字符串，在屏幕上展示，无需进入vi或vim编辑器

​	**语法：grep [查找的字符串] [查找文件名]**

​	例如：grep money test.txt-----这个命令是在test.txt中查找money这个字符串，grep查找是区分大小写的。

##### **7.cp命令**

​	功能描述：拷贝文件或复制文件(copy)

​	语法：cp [源文件] [目标文件]

​	例如：cp hello.txt test.txt---空格隔开

​	选项：

​			-i	互动：如果文件将覆盖目标中的文件，他会确认提示

​			-r	递归：这个选项会复制整个目录、子目录以及其他

​			-v	详细：显示文件的复制进度

##### **8.mv命令**

​	功能描述：可以对文件或者目录进行移动----剪切

​	语法：mv [源对象] [目的对象]

​	选项：

​			-i	互动：如果选择的文件会覆盖目标中的文件，他会提示确认

​			-f	强制：不提示的移动文件

​			-v	详细：显示文件的移动进度

##### **9.mkdir命令**

​	功能描述：创建目录

​	格式：mkdir [目录名1] [目录名2] .....

​	选项：

​			-p	嵌套：目录里面只能嵌套一个目录	mkdir -p aa/bb/cc/dd

##### **10.rmdir命令**

​	功能描述：删除空目录

​	格式：rmdir [参数] [目录名1] [目录名2]

​	选项：

​			-p	嵌套：删除空目录里面的空目录		rmdir -p aa/bb/cc/dd

##### **11.rm命令**

​	功能描述：算出文件

​	格式：rm [参数] [文件]

​	选项：

​			-i	互动：提示确认删除

​			-f	强制：代替互动模式，不提示确认删除

​			-v	详细：显示文件的删除进度

​		**常用 -r**	递归：将删除某个目录以及其中所有的文件和子目录

##### **12.man命令**

​	功能描述：用来查询和解释一个命令的使用方法和这个命令的注意事项

​	格式：man [命令的名称]

> 退出按q

##### **13.locate命令**

​	功能描述：定位文件和目录

​	格式：locate [文件或者目录名字]

​	例子：搜索test这个词的文件：输入locate test

​			locate命令使用系统来定位带有test这个词的文件或目录

##### **14.whatis命令**

​	功能描述：用来查询某个命令的含义

​	格式：whatis [命令名]

##### **15.bzip2命令**

​	功能描述：bzip2来压缩文件

​	格式：bzip2 [文件名]

​		文件即会被压缩且原文件会被删除，并被保存为文件名.bz2后缀

##### **16.bunzip2命令**

​	功能描述：解压bzip2后缀的压缩文件

​	格式：bunzip2 [XX.bz2压缩文件]

​		文件即会被解压缩且原压缩文件会被删除，并被保存为文件名

##### **17.gzip命令**

​	功能描述：压缩文件

​	格式：gzip [文件名]

​		文件即会被压缩且源文件会被删除，并被保存为文件名.gz后缀

​	参数：

​			-r	递归：将制定目录下的所有文件及子目录一并压缩

​				**注：压缩的只有文件，不包含目录。**

##### **18.gunzip命令**

​	功能描述：解压bz后缀的压缩文件

​	格式：gunzip [文件名]

​		文件即会被解压缩且原压缩文件会被删除，并被保存为文件名

​	参数：

​			-r	递归：将制定目录下的所有文件及子目录一并解压

​				**注：解压的只有文件，不包含目录。**

##### **19.tar命令**

​	功能描述：将文件或者目录进行打包、或者解压缩

​	格式：tar [参数] [打包后的文件名] [需要打包的文件或目录]

​	参数：

​			-c	创建压缩文件

​			-x	展开归档文件

​			-t	显示包括在tar文件中的文件列表

​			-z	压缩/解压缩文件（gz后缀）

​			-v	写入或读取时，显示所有的文件名

​			-f	指明要展开的归档文件名

​			-j	压缩或解压缩文件（bz2后缀）

​	例子：

​	tar -cvf test.tar /home/test	

> 将home下目录test打包成tar包并起名为test.tar

​	tar -xvf test.tar

>将test.tar解压缩

​	tar -tvf a.tar

> 把a.tar压缩包里面的文件的详细信息展示出来

​	tar -cjvf filename.tbz file

> 创建一个使用tar和bzip2来归档压缩的文件，使用-j选项，后缀名是tbz

​	tar -xjvf filename.tbz

> 拓展并解除归档bzip tar文件

​	tar -czvf filename.tgz file

> 创建一个用tar和gzip归档并压缩的文件，使用-z选项，后缀名是tgz

​	tar -xzvf filename.taz

> 拓展并解除归档gzip tar文件



##### **20.head命令**

​	功能描述：用来查看文件的开头部分

​	格式：head [行数] [要查看的文件名]

##### **21.tail命令**

​	功能描述：用来查看文件的结尾部分

​	格式：tail [行数] [要查看的文件名]

##### **22.more命令**

​	功能描述：分页查看文件的内容

​	格式：more [选项] [要查看文件名]

​	选项：

​			-{{num}}	一次显示的行数

​			-f		计算行数时，已实际上的行数，而非自动换行过后的行数

> ​						这里的自动换行代表的是字数超过一行的

​			+{{num}}	从第num行开始显示

​	例子：

​		more + /ab 1.txt

> 要使用more在文本文件中搜索关键字，按/键并输入命令搜索条目
>
> 从文件中查找第一个出现“ab”字符串的行，并从该处前两行开始显示输出
>
> 注：使用空格键来前后翻页，按q键退出

​		ls -al /etc | more -5

> 当一个目录下的文件内容太多，可以使用more来分页显示，和|结合起来
>
> “|”表示管道，作用是可以将前面命令的输出当做后面命令的输入

##### **23.which命令**

​	功能描述：依序从path环境变量所列的目录中找出命令的位置，并显示完整路径的名称。在找到第一个符合条件的程序文件时，就立刻停止搜索，省略其余未搜索目录。

​	格式：which [文件名]

##### **24.whereis命令**

​	功能描述：查找符合条件的文件，whereis命令只能定位一些文件在文件系统中的位置。一般用于程序名的搜索。

​	格式：whereis [选项] [程序名]

​	选项：

​			-b	只查找二进制文件

​			-m	man说明文件，查出说明文档路径

##### **25.chmod命令**

​	功能描述：用来设定文件的权限

​	格式：chmod [用户类型(+/-)权限] [文件名/目录]

> u代表该文件的创建人,g代表跟创建人同组的人,o代表其他人,a代表所有人

​	例子：

​			chmod a-rwx test.txt	

> ​	给test.txt文件内所有身份都删除读、写、执行的权限

​			chmod u+rwx test.txt

> ​	给test.txt文件内u用户身份添加读、写、执行的权限

​			chmod u-rwx,o-rwx,g-rwx test.txt

> ​	给test.txt文件内u、o、g三个用户都删除读、写、执行的权限，逗号隔开

​			chmod 751 test.txt & chmod u=rwx,g=rx,o=x test.txt

> ​	上面的两个chmod命令意思是一样的。
>
> ​	可以用数字表示权限：4——读取、2——写入、1——执行

> d rwx rwx rwx & - rwx rwx rwx
>
> d 代表文件类型属于目录，- 代表文件类型属于文件
>
> 第一个rwx是属于创建人u的文件权限，r是读，w是写，x是执行
>
> 第二个rwx是属于跟创建人同组g的文件权限，r是读，w是写，x是执行
>
> 第三个rwx是属于其他人o的文件权限，r是读，w是写，x是执行

##### **26.useradd&userdel命令**

​	功能描述：添加用户&删除用户

​	格式：useradd [用户名] & userdel [参数] [用户名]

​	选项：

​			userdel -r ma	彻底删除ma用户的所有文件和目录

> 但如果已删除ma用户，但未删除文件&目录的话，需要用rm -rf

##### **27.chgrp命令&chown命令**

​	功能描述：chgrp	更改文件/目录的用户组、chown 更改文件/目录拥有者

> ​	注：使用该命令只能有root系统管理员所使用。

​	格式：chgrp [更改的用户组] [文件/目录]

​		    chown [更改的拥有者] [文件/目录]

##### **28.su命令**

​	功能描述：用来切换用户

​	格式：su [用户名]

​	选项：

​			sl -l [用户名]	表示切换用户并载入那个用户的环境变量

##### **29.passwd命令**

​	功能描述：修改用户密码

​	格式：passwd [用户名]

##### **30.exit命令**

​	功能描述：退出终端

##### **31.reboot命令**

​	功能描述：重启终端

##### **32.halt命令**

​	功能描述：关闭终端

##### **33.shwtdown命令**

​	功能描述：重启终端

​	格式：shutdown [选项] [时间]

​	选项：

​			shutdown -h now		立刻关闭系统

​			shutdown -h	11:30	11:30分关闭系统

​			shutdown -t 2		在2分钟内关闭系统

##### **34.ps命令**

​	功能描述：查看程序的进程，可以找出所有process id和名称	

​	格式：ps&ps [选项]

​	选项：

​			ps -u	列出使用者的名称和使用时间

​			ps -x	列出所有程序

##### **35.top命令**

​	功能描述：动态查看进程的执行情景和内存使用

> ​	ctrl+c退出

##### **36.kill命令**

​	功能描述：用来终止一个正在执行中的进程

​	格式：kill [进程号]

##### **37.date命令**

​	功能描述：用来设定和修改现在的时间和日期

​	格式：date [选项] [文件名]

​	选项：

​			date -r 1.txt	查看1.txt这个文件的最后一次修改时间节点

​			date -s	设置系统时间

​			date -u	查看格林尼治时间

##### **38.cal命令**

​	功能描述：查看日历

##### **39.df命令**

​	功能描述：查看硬盘的使用量

​	格式：df [选项] 	列出全部文件系统和各分区的磁盘使用情况

##### **40.du命令**

​	功能描述：显示文件目录的大小

​	格式：du [参数] [文件名字]

​	选项：du -ab	列出所有文件和目录所占的空间

##### **41.ifconfig命令**

​	功能描述：显示网络设备的状态

##### **42.ping命令**

​	功能描述：检测主机

##### **43.netstat命令**

​	功能描述：知道整个linux系统的网络情况或显示网络状态

​	格式：netstat -a	显示详细的网络状况	

​		    netstat -apu	显示UDP端口号的使用情况

##### **44.clear命令**

​	功能描述：清楚当前命令窗口内容

##### **45.echo命令**

​	功能描述：回显文字或者用来查看环境变量的值

​	格式：echo “hello world”	显示hello world

​		    echo $PATH	查看PATH的取值，是否有/sbin目录

##### **46.uptime命令**

​	功能描述：系统运行时间

##### **47.wc命令**

​	功能描述：统计字数，默认情况下把指定文件的行数、字数、字节数展示

​	格式：wc [选项] [文件名]

​	选项：

​			wc -c	只显示字节数

​			wc -l	只显示行数

​			wc -w	只显示字数



### 8.shell脚本

#### 1.概述

1.Shell是一个用C语言编写的程序，它是用户使用Linux的桥梁

2.Shell既是一种命令语言，又是一种程序设计语言

3.Shell是指一种应用程序，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务。

> ​	Ken Thompson的 sh 是第一种Unix Shell

#### 2.脚本和环境

##### 2.1shell脚本

***shell脚本（shell script），是一种为shell编写的脚本程序***

##### 2.2shell环境

***shell变成只要有一个能编写代码的文编编辑器vi和一个能够解释执行的脚本解释器就可以了，/bin/bash***

**Linux的shell种类众多，常见的有：**

**1.Bourne Again Shell（/bin/sh）**

1.由于易用和免费，Bash在日常工作中被广泛使用

2.Bash也是大多数Linux系统默认的Shell

> shell是干嘛的？
>
> ​	将许多命令写一起，让用户很轻松的就能执行一个文件的Shell脚本，能够一次执行多个命令。

**2.Bourne shell（/usr/bin/sh或/bin/sh）**

**3.C shell（/usr/bin/csh）**

**4.K shell（/usr/bin/ksh）**

**5.shell for Root（/sbin/sh）**

##### 2.3shell构成

**bash环境文件：**

> .bash_profile
>
> ​	设置环境变量：账户-建立，该文件就存在（用户生成即会跟着生成）
>
> .bashrc
>
> ​	存放针对bash的命令，每次启动就执行它，在.bash_profile之后执行
>
> ​		启动bash命令后自动执行
>
> .bash_logout
>
> ​	仅在退出注册时运行
>
> .bash_history
>
> ​	历史记录

##### 2.4shell脚本格式

格式：vi filename.sh（可以理解为文本文件，但它是可执行的）

使用vi来编写shell脚本：

> 脚本第一行格式：

>   	#!/bin/bash

> 符号#!用来指定该脚本文件的解析程序，这里使用的是bin目录下的bash解析器，当编辑好脚本后，如果要执行该脚本，还必须使其具有可执行属性
>
> 即：
>
> ​	chmod + x filename.sh	(这里的x代表是给予 可执行 的权限)
>
> 然后执行
>
> ​	./filename.sh
>
> 第二种方式：		/bin/bash filename.sh
>
> **注：.sh后缀可带可不带，主要用来分辨是否为脚本文件**

##### 2.5shell中的变量

在shell脚本中，变量有两种，一种是用户自定义变量，另一种是系统默认变量

​	用户自定义变量：your_name="qianfengjioayu" (变量名=变量值)

> ​	注意：变量名和等号之间不能有空格

> 变量名有如下规则：
>
> ​	首个字符必须为字母(a-z&A-Z)
>
> ​	中间不能有空格，可以用下划线( _ )
>
> ​	不能使用标点符号
>
> ​	不能使用bash里的关键字(命令名等)

2.5.1**用户自定义变量**

​	在shell编程中，所有的变量都有字符串组成，并且不需要事先声明变量的类型，它支持的唯一类型的变量就是字符串。

> 使用一个定义过的变量时，只要在变量名前面加美元符号$即可
>
> 例子1：
>
> ​	shell脚本：test02.sh
>
> ​		#!/bin/bash

> ​		your_name="qf"
>
> ​			echo $your_name
>
> ​		echo ${your_name}
>
> 其中，变量名外边的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界
>
> 例如：a=aaa，echo “this is $a123”
>
> ​	输出内容则为：this is
>
> 如：a=aaa，echo "this is ${a}123"
>
> ​	输出内容则为：this is aaa123
>
> 使用花括号来划分边界。

**2.5.2只读变量**

​	使用readonly命令可以将变量定义为只读变量，只读变量的值不能被更改

> 例子：
>
> ​	#!/bin/bash

> ​	a="aaaa"
>
> ​	readonly a
>
> ​	a="bbbb"
>
> ​	echo = $a
>
> 此时输出会报错，且会把readonly定义前的变量输出出来

**2.5.3 删除变量**

​	使用unset命令可以删除变量

​	语法：unset variable_name（变量名）

> **变量被删除后不能再次使用。unset命令不能删除只读变量**

> 例子1：
>
> ​	#!/bin/bash
>
> ​	a="mylove"
>
> ​	unset a
>
> ​	echo $a
>
> 此时输出为空。因为变量a已经被unset命令删除掉了
>
> 例子2：
>
> ​	#!/bin/bash
>
> ​	a="mylove"
>
> ​	readonly a
>
> ​	unset a
>
> ​	echo $a
>
> 此时输出会报错，且会把readonly定义前的变量输出出来

##### **2.6字符串操作**

​	**1.拼接字符串**

> 例子1：
>
> ​		name="aaaaa"
>
> ​		echo "$name,aaaa"
>
> ​		输出结果：aaaaa,aaaa

> 例子2：
>
> ​		str01="hello"
>
> ​		pj01="111,$str01"
>
> ​		echo pj01
>
> ​		输出结果：111，hello

> 例子3：
>
> ​		str01="111"
>
> ​		str02="222"
>
> ​		pj01="\$str01,$str02"
>
> ​		echo pj01
>
> ​		输出结果：111,222

​	**2.获取字符串长度**

> 例子1：
>
> ​		string="abcd"
>
> ​		echo ${#string}

​	**3.提取子字符串**

> 例子1：从第二个字符串开始截取，截取长度为4
>
> ​		string="abcde"
>
> ​		echo ${string:1:4}



##### 2.7shell数组

**数组：相当于多个相同类型的变量组成的集合，shell中没有限定数组的大小**

**定义数组：**

​	在shell中，用括号来表示数组，数组元素用“空格”符号分隔开

​	一般形式为：数组名=(值1 值2 .....)

> ​	例子1：a=(1 2 3 4) ------ 一般形式
>
> ​	例子2：a[0]=(0)、a[1]=(1) ------ 单独定义数组的各个分量

**读取数组：**

​	格式：	${数组名[下标]}

> 例子1：	value=${array_name[n]}

​	使用@符号可以获取数组中的所有元素

> 例子2：echo ${array_name[@]}

​	获取数组的长度

> 1.获取数组的个数：	echo ${#array_name[@]}
>
> 2.获取单个数组的长度：	echo ${#array_name[下标元素]}

##### 2.8shell注释

“#”开头的行就是注释行，会被解释器忽略，sh里没有多行注释，只能每行都加“#”

##### 2.9shell运算符

分为：算数运算符、关系运算符、布尔运算符、字符串运算符、文件测试运算符

expr是一款表达式计算工具，使用它能完成表达式的求值操作

> 例子1：
>
> ​	两个数相加(注意使用的是反引号 ` 而不是单引号 ’ )
>
> ​		#!/bin/bash
>
> ​		var=\`expr 2 + 2`
>
> ​		echo "sum: $var"

​	**1.算数运算符**

> ​	加定变量a=10，变量b=20

> ​	运算符	说明	举例
>
> ​	**+**		加法	\`expr \$a + $b` 结果为30
>
> ​	**-**		减法	\`expr \$a - $b` 结果为-10
>
> ​	*****		乘法	\`expr \$a (反斜杠转义)* $b`结果为200 
>
> ​	**/**		除法	\`expr \$b / $a 结果为2
>
> ​	**%**		取余	\`expr \$b % $a 结果为0
>
> ​	**=**		赋值	\`expr a=$b 将变量b的值赋给a
>
> ​	**==**		相等	用于比较两个数字,相等则返回Ture,不相等返回False
>
> ​	**！=**		不相等	用于比较两个数字，不相等返回Ture,相等返回Ture

​	**2.if语句**

> 格式一：
>
> if [ 判定条件 ]	  # 中括号两边需要带空格
>
> then
>
> ​	语句块
>
> else
>
> ​	语句块
>
> fi	# 结尾	

​	**3.关系运算符**

> 关系运算符只支持数字，不支持字符串，除非字符串的值是数字

> 假定变量a为10，变量b为20

> ​	**-eq**	检测两个数是否相等，相等返回Ture，不相等返回False。
>
> ​	举例：[ $a -eq \$b]返回False
>
> ​	**-ne**	检测两个数是否相等，不相等返回Ture，相等返回False
>
> ​	举例：[ $a -ne \$b ]返回True
>
> ​	**-gt**	检测左边的数是否大于右边的，是则返回True，不是则返回False
>
> ​	举例：[ $a -gt \$b ]返回False
>
> ​	**-lt**	检测左边的数是否小于右边的，是则返回True，不是则返回False
>
> ​	举例：[ $a -lt \$b ]返回True
>
> ​	**-ge**	检测左边的数是否大于等于右边的，是则返回True，不是则返回False
>
> ​	举例：[ $a -ge \$b ]返回False
>
> ​	**-le**	检测左边的数是否小于等于右边的，是则返回True，不是则返回False
>
> ​	举例：[ $a -le \$b ]返回False

​	**4.布尔运算符**

> 假定变量a为10，变量b为20：

> ​	**！**	非运算，表达式为True则返回False，否则返回True
>
> ​	举例：[ ! false ]返回True
>
> ​	**-o**	或运算，有一个表达式为true则返回true，否则返回false
>
> 举例：[ $a -lt 20 -o \$b -gt 100 ]返回True
>
> ​	**-a**	与运算，两个表达式都为true才返回true，否则返回false
>
> 举例：[ $a -lt 20 -a \$b  -gt 100]返回false

​	**5.逻辑预算符**

> 假定变量a为10，变量b为20：

> ​	**&&**	逻辑的AND	
>
> 举例：[[ $a -lt 100 && \$b -gt 100 ]]	返回False 
>
> ​	**||**	逻辑的OR
>
> 举例：[[ $a -lt 100 || \$b -gt 100 ]]	返回True

​	**6.字符串运算符**

> 假定变量a为“abc”，变量b为“efg”

> ​	**=**	检测两个字符串是否相等，相等返回True，否则返回False
>
> ​	举例：[ $a = \$b ]返回False
>
> ​	**!=**	检测两个字符串是否相等，不想等返回True，相等返回False
>
> ​	举例：[ $a != \$b ]返回True
>
> ​	**-z**	检测字符串长度是否为0，为0返回True，否则返回False
>
> ​	举例：[ -z $a ]返回False
>
> ​	**-n**	检测字符串长度是否为0，为0返回False，否则返回True
>
> ​	举例：[ -n $a ]返回True
>
> ​	**str**	检测字符串是否为空(null)，不为空返回True，否则返回False
>
> ​	举例：[ $a ]返回True

​	**7.文件测试运算符**

> 文件测试运算符用于检测文件的各种属性

> ​	**-d file**	检测文件是否是目录，是则返回True，否则返回False
>
> ​	举例：[ -d $file ]返回False
>
> ​	**-f file**	检测文件是否是普通文件，是则返回True，否则返回False
>
> ​	举例：[ -f $file ]返回Ture
>
> ​	**-r file**	检测文件是否可读，是则返回True，否则返回False
>
> ​	举例：[-r $file]返回True
>
> ​	**-w file**	检测文件是否可写，是则返回True，否则返回False
>
> ​	举例：[ -w $file ]返回True
>
> ​	**-x file**	检测文件是否可执行，是则返回True，否则返回False
>
> ​	举例：[ -x ￥file ]返回True
>
> ​	**-s file**	检测文件是否为空(文件大小是否大于0)，是则返回True，否则返回False
>
> ​	举例：[ -s $file ]返回True
>
> ​	**-e file**	检测文件(包括目录)是否存在，是则返回True，否则返回False
>
> ​	举例：[ -e $file ]返回True

##### 3.0shell echo命令

作用：用于字符串的输出	格式：echo “字符串内容”

**1.显示转义字符：**

> ​	echo “\“It is a test\””
>
> 输出为："It is a test" 

**2.显示变量：**

​	read 命令 从表中输入中读取一行，并把输入行的每个字段的值指定给shell变量

> ​	\#!/bin/bash

> ​	read name

> ​	echo "$name It is a test"

**3.显示换行：**

> ​	echo -e "OK! \n yes!" 	# -e	\n 换行
>
> 输出为：OK！换行 yes!

> ​	echo -e "It is a\b test"	# -e \b 后退一步(删除)
>
> 输出为：it is test	# a被删除
>
> ​	echo -e “hello，\tworld” # -e \t tab前进
>
> 输出为：hello,	world

**4.显示不换行：**

```shell
#!/bin/bash
echo -e "OK!\C"		# -e 开启转义 \c不换行
echo “It is a test”
```

**5.显示结果定向至文件**

```shell
echo "It is a test" > myfile
```

> 注意：>是进行覆盖语句，>>则是在末尾增加语句

**6.显示命令执行结果：**

```shell
echo `date`
```

> 注意：这里使用的是反引号``，不是‘ ’单引号

##### 3.1 printf命令

> 格式: printf 格式声明 与格式声明相对应的参数列表
>
> 格式声明由两部分组成：百分比符号(%)和指示符

> %d	%s	%c	%f	格式替代符
>
> d：data数字 -- 对应位置参数必须是数字
>
> s：str字符串 -- 对应位置参数必须是字符串
>
> c：char字符 -- 对应位置是显示相对应参数的第一个字符
>
> f：float浮点 -- 对应位置参数必须是数字

> 常见的转义字符
>
> \b	后退		\n	换行
>
> \t	水平制表符	\\\	反斜杠字符 --->\

> 举例1：
>
> %-10s -- 指仅能输入字符串且最多10位
>
> %4.2f -- 指仅能输入数字且最多4位，保留2位小数
>
> 1.“ - ”表示左对齐，没有则表示右对齐
>
> 2.任何字符都会被显示在10个字符宽内
>
> 3.如果不足则自动以空格填充，超过也会将内容全部展示出来

##### 3.2 shell test命令

> shell中的test命令用户检查某个条件是否成立
>
> 可以进行数值、字符和文件三个方面的测试
>
> test命令 等同于 [ ]

> 参数	说明
>
> -eq		等于则为真
>
> -ne		不等于则为真
>
> -gt		大于则为真
>
> -ge		大于等于则为真
>
> -lt		小于则为真
>
> -le		小于等于则为真